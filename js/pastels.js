jQuery(function($){$(window).load(function(){var harpAudio;var guitarAudio;var documentBody=document.getElementsByTagName('body')[0];var hasSound=document.getElementById('bgsound');var hasHarp=false;var hasGuitar=false;function harpPre(){if(hasSound){documentBody.remove(hasSound);}
if(hasHarp){soundPlay(harpAudio);}else{hasHarp=true;}
if(navigator.userAgent.toLowerCase().indexOf('firefox')>-1){harpAudio=new Audio();}else{harpAudio=document.createElement('audio');}
harpAudio.src='http://d1fjhcoxowijel.cloudfront.net/harp/harp'+getRandomInt(1,145)+'.wav';if(harpAudio.addEventListener){harpAudio.addEventListener('canplaythrough',function(){harpAudio=harpAudio.src;},false);}else if(harpAudio.attachEvent){harpAudio.oncanplaythrough=function(){harpAudio=harpAudio.src;}}}
function guitarPre(){if(hasSound){documentBody.remove(hasSound);}
if(hasGuitar){soundPlay(guitarAudio);}else{hasGuitar=true;}
if(navigator.userAgent.toLowerCase().indexOf('firefox')>-1){guitarAudio=new Audio();}else{guitarAudio=document.createElement('audio');}
guitarAudio.src='http://d1fjhcoxowijel.cloudfront.net/guitar/guitar'+getRandomInt(1,110)+'.wav';if(guitarAudio.addEventListener){guitarAudio.addEventListener('canplaythrough',function(){guitarAudio=guitarAudio.src;},false);}else if(guitarAudio.attachEvent){guitarAudio.oncanplaythrough=function(){guitarAudio=guitarAudio.src;}}}
function randColor(){var randHex='#';var randLength=3;while(randLength--){randHex+=(Math.floor(Math.random()*56)+200).toString(16);}
return randHex;}
function youtubeRatio(){$('iframe[src*="www.youtube.com"]').each(function(){$(this).css({'width':'100%','height':($(this).parent().width()*$(this).data('aspectRatio'))+'px'});});}
function elementSlider(element,animateTime,waitTime,hasOverlay){elementRand=Math.random().toString(36).slice(-5);if(!animateTime){animateTime=1000;}
if(!waitTime){waitTime=8000;}
if(!hasOverlay){hasOverlay=1;}
element.hide();element=element.children().attr('data-elementTag',elementRand);if(element.children().length>1){element.css({'width':((element.children().length+1)*100)+'%'}).children().css({'width':(100/(element.children().length+1))+'%','position':'relative'});if(element.find('iframe').length>0){function youtubeAPIReady(){if(typeof(YT)=='undefined'||typeof(YT.Player)=='undefined'){setTimeout(function(){youtubeAPIReady();},500);}else{mouseEvent(element,animateTime,waitTime);element.find('iframe').each(function(i){$(this).css({'width':'1280px','height':'750px'}).data('aspectRatio',$(this).height()/$(this).width())
.css({'width':'100%','height':($(this).parent().width()*$(this).data('aspectRatio'))+'px'}).addClass('youtubeFrame');if(hasOverlay){var elementOverlay='<div class="elementOverlay" style="top:0; left:0; width:100%; height:100%; position:absolute; background-color:'+randColor()+';"></div>';var arrowOverlay='<img class="arrowOverlay" src="'+imageBase64+'" data-imagesource="http://d1fjhcoxowijel.cloudfront.net/arrowOverlay.png" style="position:absolute; top:0; bottom:0; left:0; right:0; margin: auto;">';if($(this).parent().children('img').length>0){$(this).parent().children('img').wrap(elementOverlay);}else{$(this).parent().append(elementOverlay);}
$(this).parent().children('.elementOverlay').append(arrowOverlay);}else{$(this).parent().append('<div class="elementOverlay" style="top:0; left:0; width:100%; height:100%; position:absolute;"></div>');$(this).parent().children('img').remove();}
this.id='elementVideo_'+elementRand+i;elementVideo['elementVideo_'+elementRand+i]=new YT.Player('elementVideo_'+elementRand+i,{events:{'onStateChange':onPlayerStateChange}});});setTimeout(function(){youtubeRatio();},0);element.append(element.children(':first').clone(true,true));elementCount[element.attr('data-elementTag')]=1;elementPause[element.attr('data-elementTag')]=0;element.parent().show();animateSlider(element,animateTime,waitTime);}}
youtubeAPIReady();}else{element.append(element.children(':first').clone());elementCount[element.attr('data-elementTag')]=1;elementPause[element.attr('data-elementTag')]=0;element.parent().show();animateSlider(element,animateTime,waitTime);}
onPlayerStateChange=function(element){var elementTarget=$(element.target.getIframe().parentNode);if(element.data===0){elementPause[elementTarget.parent().attr('data-elementTag')]=0;elementTarget.children('.elementOverlay').show();animateSlider(elementTarget.parent(),animateTime,waitTime);}else if(element.data===1){elementPause[elementTarget.parent().attr('data-elementTag')]=1;}else if(element.data===2){elementPause[elementTarget.parent().attr('data-elementTag')]=0;elementTarget.children('.elementOverlay').show();}}}}
var elementPause=[];var elementTimeout=[];var elementVideo=[];var elementCount=[];function mouseEvent(element,animateTime,waitTime){element.on('mouseenter',function(){clearTimeout(elementTimeout[element.attr('data-elementTag')]);$('.arrowOverlay').css({'opacity':0.5});}).on('mouseleave',function(){$('.arrowOverlay').css({'opacity':1});if(!elementPause[element.attr('data-elementTag')]){clearTimeout(elementTimeout[element.attr('data-elementTag')]);animateSlider(element,animateTime,waitTime);}});}
$('body').on('click','.elementOverlay',function(){if(!elementPause[$(this).parent().parent().attr('data-elementTag')]){elementPause[$(this).parent().parent().attr('data-elementTag')]=1;clearTimeout(elementTimeout[$(this).parent().parent().attr('data-elementTag')]);$(this).parent().children('.elementOverlay').hide();elementVideo[$(this).parent().children('iframe').attr('id')].playVideo();}});function animateSlider(element,animateTime,waitTime){elementTimeout[element.attr('data-elementTag')]=setTimeout(function(){elementPause[element.attr('data-elementTag')]=1;elementCount[element.attr('data-elementTag')]=elementCount[element.attr('data-elementTag')]+1;element.stop(true,true).animate({'left':'-=100%'},animateTime,function(){if(elementCount[element.attr('data-elementTag')]==element.children().length){elementCount[element.attr('data-elementTag')]=1;element.css({'left':'0px'});}
elementPause[element.attr('data-elementTag')]=0;animateSlider(element,animateTime,waitTime);});},waitTime);}
var imageBase64='data:image/gif;base64,R0lGODlhZABkAIAAAAAAAP///yH5BAEHAAEALAAAAABkAGQAAAJzjI+py+0Po5y02ouz3rz7D4biSJbmiabqyrbuC8fyTNf2jef6zvf+DwwKh8Si8YhMKpfMpvMJjUqn1Kr1is1qt9yu9wsOi8fksvmMTqvX7Lb7DY/L5/S6/Y7P6/f8vv8PGCg4SFhoeIiYqLjI2Oj4CGlYAAA7';elementSlider($('.elementSlider'),3000,3000);$.getScript('//www.youtube.com/iframe_api');elementSlider($('.elementSliderVideo'));var preventOverload=0;var maxHeight;function resizeChars(){var belowHun=0;$('img[class*="resizeChar"]').each(function(){if($(this).attr('src').indexOf('base64')<0){if($(this).parent('div[class*=Lcol]').length){maxHeight=$(this).parent().next().height();if(maxHeight<101){belowHun++;}
if(this.src.indexOf('MCartoon')>-1){if(maxHeight>299){$(this).css({'min-height':'150px','height':Math.floor(((100/maxHeight*300)-20))+'%','position':'absolute','min-width':'150px','max-width':'none','width':''}).parent().css({'min-height':'150px','height':300+'px'});}else{$(this).css({'min-height':'150px','height':'80%','position':'absolute','min-width':'150px','max-width':'none','width':''}).parent().css({'min-height':'150px','height':maxHeight+'px'});}
if($(window).width()<300){$(this).css({'height':'','max-width':'','width':70+'%'}).parent().css({'height':200+'px'});}}else{if(maxHeight>524){maxHeight=525;}
$(this).css({'min-height':'100px','height':'100%','position':'absolute','max-width':'none'}).parent().css({'height':maxHeight+'px'});}}else if($(this).parent('div[class*=Rcol]').length){maxHeight=$(this).parent().prev().height();if(maxHeight<101){belowHun++;}
if(this.src.indexOf('MCartoon')>-1){if(maxHeight>299){$(this).css({'min-height':'150px','height':Math.floor(((100/maxHeight*300)-20))+'%','position':'absolute','min-width':'150px','max-width':'none','width':''}).parent().css({'min-height':'150px','height':300+'px'});}else{$(this).css({'min-height':'150px','height':'80%','position':'absolute','min-width':'150px','max-width':'none','width':''}).parent().css({'min-height':'150px','height':maxHeight+'px'});}
if($(window).width()<300){$(this).css({'height':'','max-width':'','width':70+'%'}).parent().css({'height':200+'px'});}}else{if(maxHeight>524){maxHeight=525;}
$(this).css({'min-height':'100px','height':'100%','position':'absolute','max-width':'none'}).parent().css({'height':maxHeight+'px'});}}else{if(!$(this).hasClass('hallsBMI')){$(this).css({'min-height':'100px','height':$(this).height()+'px','max-width':'none'});}}}});if(belowHun>0){if(preventOverload<20){setTimeout(function(){preventOverload++;resizeChars();},250);}}}
var colors=new Array([227,233,237],[234,231,227],[228,225,232],[239,252,252],[242,253,255],[237,255,238],[241,234,242],[238,232,233]);var colorIndices=[0,1,2,3,4,5,6,7];var c0_0=colors[colorIndices[0]];var c0_1=colors[colorIndices[1]];var c1_0=colors[colorIndices[2]];var c1_1=colors[colorIndices[3]];var d0_0=colors[colorIndices[4]];var d0_1=colors[colorIndices[5]];var d1_0=colors[colorIndices[6]];var d1_1=colors[colorIndices[7]];var step=0;var istep=1;var gradientSpeed=0.05;var colorMin=230;var colorMax=255;var forcePart=243;var forceWidth=13;var innerMargin=10;function updateGradient(){istep=1- step;var r1=Math.round(istep*c0_0[0]+ step*c0_1[0]);var g1=Math.round(istep*c0_0[1]+ step*c0_1[1]);var b1=Math.round(istep*c0_0[2]+ step*c0_1[2]);var color1='rgba('+ r1.toString()+','+ g1.toString()+','+ b1.toString()+',1)';var r2=Math.round(istep*c1_0[0]+ step*c1_1[0]);var g2=Math.round(istep*c1_0[1]+ step*c1_1[1]);var b2=Math.round(istep*c1_0[2]+ step*c1_1[2]);var color2='rgba('+ r2.toString()+','+ g2.toString()+','+ b2.toString()+',1)';$('.site-container').css({background:'rgb('+ r1.toString()+','+ g1.toString()+','+ b1.toString()+')'}).css({background:'-moz-linear-gradient(left, '+ color1+' 0%, rgba(255,255,255,1) 50%, '+ color2+' 100%)'}).css({background:'-webkit-gradient(linear, left top, right top, color-stop(0%,'+ color1+'), color-stop(50%, rgba(255,255,255,1)), color-stop(100%,'+ color2+'))'}).css({background:'-webkit-linear-gradient(left, '+ color1+' 0%, rgba(255,255,255,1) 50%, '+ color2+' 100%)'}).css({background:'-o-linear-gradient(left, '+ color1+' 0%, rgba(255,255,255,1) 50%, '+ color2+' 100%)'}).css({background:'-ms-linear-gradient(left, '+ color1+' 0%, rgba(255,255,255,1) 50%, '+ color2+' 100%)'}).css({background:' linear-gradient(to right, '+ color1+' 0%, rgba(255,255,255,1) 50%, '+ color2+' 100%)'});var r3=Math.round(istep*d0_0[0]+ step*d0_1[0]);var g3=Math.round(istep*d0_0[1]+ step*d0_1[1]);var b3=Math.round(istep*d0_0[2]+ step*d0_1[2]);var color3='rgba('+ r3.toString()+','+ g3.toString()+','+ b3.toString()+',0.6)';var color3b='rgba('+ r3.toString()+','+ g3.toString()+','+ b3.toString()+',0)';var r4=Math.round(istep*d1_0[0]+ step*d1_1[0]);var g4=Math.round(istep*d1_0[1]+ step*d1_1[1]);var b4=Math.round(istep*d1_0[2]+ step*d1_1[2]);var color4='rgba('+ r4.toString()+','+ g4.toString()+','+ b4.toString()+',0.6)';var color4b='rgba('+ r4.toString()+','+ g4.toString()+','+ b4.toString()+',0)';$('.site-inner').css({background:'rgb(255,255,255)'}).css({background:'-moz-linear-gradient(left, '+ color3b+' 0%, '+ color3+' '+ innerMargin.toString()+'%, rgba(255,255,255,1) 50%, '+ color4+' '+(100-innerMargin).toString()+'%, '+ color4b+' 100%)'}).css({background:'-webkit-gradient(linear, left top, right top, color-stop(0%, '+ color3b+'), color-stop('+ innerMargin.toString()+'%, '+ color3+'), color-stop(50%,rgba(255,255,255,1)), color-stop('+(100-innerMargin).toString()+'%, '+ color4+'), color-stop(100%, '+ color4b+'))'}).css({background:'-webkit-linear-gradient(left, '+ color3b+' 0%, '+ color3+' '+ innerMargin.toString()+'%, rgba(255,255,255,1) 50%, '+ color4+' '+(100-innerMargin).toString()+'%, '+ color4b+' 100%)'}).css({background:'-o-linear-gradient(left, '+ color3b+' 0%, '+ color3+' '+ innerMargin.toString()+'%, rgba(255,255,255,1) 50%, '+ color4+' '+(100-innerMargin).toString()+'%, '+ color4b+' 100%)'}).css({background:'-ms-linear-gradient(left, '+ color3b+' 0%, '+ color3+' '+ innerMargin.toString()+'%, rgba(255,255,255,1) 50%, '+ color4+' '+(100-innerMargin).toString()+'%, '+ color4b+' 100%)'}).css({background:' linear-gradient(to right, '+ color3b+' 0%, '+ color3+' '+ innerMargin.toString()+'%, rgba(255,255,255,1) 50%, '+ color4+' '+(100-innerMargin).toString()+'%, '+ color4b+' 100%)'});step+=gradientSpeed;if(step>=1)
{step%=1;c0_0[0]=c0_1[0];c0_0[1]=c0_1[1];c0_0[2]=c0_1[2];c1_0[0]=c1_1[0];c1_0[1]=c1_1[1];c1_0[2]=c1_1[2];d0_0[0]=d0_1[0];d0_0[1]=d0_1[1];d0_0[2]=d0_1[2];d1_0[0]=d1_1[0];d1_0[1]=d1_1[1];d1_0[2]=d1_1[2];c0_1[0]=getRandomInt(colorMin,colorMax);c0_1[1]=getRandomInt(colorMin,colorMax);c0_1[2]=getRandomInt(colorMin,colorMax);c1_1[0]=getRandomInt(colorMin,colorMax);c1_1[1]=getRandomInt(colorMin,colorMax);c1_1[2]=getRandomInt(colorMin,colorMax);d0_1[0]=getRandomInt(colorMin,colorMax);d0_1[1]=getRandomInt(colorMin,colorMax);d0_1[2]=getRandomInt(colorMin,colorMax);d1_1[0]=getRandomInt(colorMin,colorMax);d1_1[1]=getRandomInt(colorMin,colorMax);d1_1[2]=getRandomInt(colorMin,colorMax);var totals=c0_1[0]+ c0_1[1]+c0_1[2];if(765-totals<forceWidth){var whichPart=getRandomInt(1,6);if(whichPart==1){c0_1[2]=forcePart;}else if(whichPart==2){c0_1[1]=forcePart;}else if(whichPart==3){c0_1[0]=forcePart;}else if(whichPart==4){c0_1[1]=forcePart;c0_1[2]=forcePart;}else if(whichPart==5){c0_1[1]=forcePart;c0_1[0]=forcePart;}else{c0_1[0]=forcePart;c0_1[2]=forcePart;}}
totals=c1_1[0]+ c1_1[1]+c1_1[2];if(765-totals<forceWidth){var whichPart=getRandomInt(1,6);if(whichPart==1){c1_1[2]=forcePart;}else if(whichPart==2){c1_1[1]=forcePart;}else if(whichPart==3){c1_1[0]=forcePart;}else if(whichPart==4){c1_1[1]=forcePart;c1_1[2]=forcePart;}else if(whichPart==5){c1_1[1]=forcePart;c1_1[0]=forcePart;}else{c1_1[0]=forcePart;c1_1[2]=forcePart;}}
var totals=d0_1[0]+ d0_1[1]+d0_1[2];if(765-totals<forceWidth){var whichPart=getRandomInt(1,6);if(whichPart==1){d0_1[2]=forcePart;}else if(whichPart==2){d0_1[1]=forcePart;}else if(whichPart==3){d0_1[0]=forcePart;}else if(whichPart==4){d0_1[1]=forcePart;d0_1[2]=forcePart;}else if(whichPart==5){d0_1[1]=forcePart;d0_1[0]=forcePart;}else{d0_1[0]=forcePart;d0_1[2]=forcePart;}}
totals=d1_1[0]+ d1_1[1]+d1_1[2];if(765-totals<forceWidth){var whichPart=getRandomInt(1,6);if(whichPart==1){d1_1[2]=forcePart;}else if(whichPart==2){d1_1[1]=forcePart;}else if(whichPart==3){d1_1[0]=forcePart;}else if(whichPart==4){d1_1[1]=forcePart;d1_1[2]=forcePart;}else if(whichPart==5){d1_1[1]=forcePart;d1_1[0]=forcePart;}else{d1_1[0]=forcePart;d1_1[2]=forcePart;}}}}
function getRandomInt(min,max){return Math.floor(Math.random()*(max- min+ 1))+min;}
var bgColor=$('.site-inner').css('background-color');if(bgColor=='transparent'||bgColor=='rgba(0, 0, 0, 0)'){setInterval(updateGradient,300);}
var namesArray=['DrHalls:3','DrHallsCartoon:1','HallsL:54','HallsR:65','HallsC:53','MooseR:18','MooseL:23','MCartoonL:11','MCartoonR:12','Brittany:26','David:7','Gretchen:20','Jessica:12','Mark:5','Tyler:14','Hector:11','Harmony:11','Derek:9','Megan:7','Billy:5','Tanya:6','Levi:13','Holly:5','Betty:7','Brandon:5'];var backgroundColors=['','mbk01','mbk02','mbk03','mbk04','mbk05','mbk06','mbk07','mbk08','mbk09','mbk10','mbk11','mbk12','mbk13','mbk14','mbk15','mbk16','mbk17','mbk18','mbk19','mbk20','mbk21'];var textColors=['','mTc01','mTc02','mTc03','mTc04','mTc05','mTc06'];function suggTweets(){var maxTweets=4;var viaTweet='';var urlTweet='url=http';var hashTweet='hashtags=moosejoke';var truncBy=0;var conData='';var randomTweets=['Whats holding things up?  Tell you what, drop everything. Go grab a cool drink, and one for me too.','When logic fails, another tool must be used. Werent you saying that you work with a bunch of tools?','A computer once beat me at chess, but it was no match for me at kick boxing.','Hate is a very strong word, that I only use for things I dislike.','The word politics, is derived from the word poly, meaning many, and the word ticks, meaning blood sucking parasites.','Moose joke: My wife said she\'s loving me, because I don\'t listen well enough.','Sometimes I wake up grumpy, the other times I just let her sleep.','Its better to have loved a short girl, than never to have loved a tall.','Ive personalized each of your meals. And because you are cute, I baked you a pony.','Society is never gonna make any progress until we all learn to pretend to like each other.','Weaseling out of things is important to learn. Its what separates us from the animals. except the weasel.','If God had intended us to drink beer, He would have given us stomachs.','If you ever reach total enlightenment while drinking beer, I bet it makes beer shoot out your nose.','Did you know that banging your head up against a brick wall burns 150 calories per hour?','Arguing on the internet is like running in the special olympics. Even if you win, you are still retarded.','I dont know the key to success, but the key to failure is trying to please everybody.','Well, I suppose now is the time for me to say something profound.  Nothing comes to mind.','I got a sweater for Christmas. I would have preferred a moaner, or a screamer.','Are you trying to solve a problem?  Let me help, oops, sorry, I just spilled coffee on your keyboard.'];function shuffleTweets(){var arrayTemp=[];while(randomTweets.length){var randomIndex=Math.floor(Math.random()*randomTweets.length);arrayTemp.push(randomTweets.splice(randomIndex,1));}
return arrayTemp;}
if(viaTweet.length>0){truncBy+=viaTweet.length+ 1;}
if(urlTweet.length>0){if(urlTweet!=='url=http'){truncBy+=urlTweet.length+ 1;}}
if(hashTweet.length>0){truncBy+=hashTweet.length+ 1;}
randomTweets=shuffleTweets();if(randomTweets.length>0){var numTweets=randomTweets.length;}else{var numTweets=1;randomTweets[0]='The Talking Moose wishes you a happy birthday.';}
for(var iB=0;iB<randomTweets.length&&iB<maxTweets;iB++){if(randomTweets[iB].length>(140-truncBy)){var conText=randomTweets[iB].substr(0,((140-truncBy)- 1))+'.';}else{var conText=randomTweets[iB];}
if(iB==0){var conStart=conText;}
conData+='<div class="OneTweet" data-href="https://twitter.com/share?';if(viaTweet.length>0){conData+=viaTweet+'&';}
if(urlTweet.length>0){conData+=urlTweet+'&';}
if(hashTweet.length>0){conData+=hashTweet+'&';}
conData+='text='+conText+'" ';conData+='><span class="TweetsFont">'+conText+'</span></div>';}
buildString='<div class="ShadowBox"><a title="Tweet This!" rel="nofollow noindex">';buildString+='<div class="FullWidthSemiTransparent ';buildString+=backgroundColors[getRandomInt(1,21)]+'"></div>';buildString+='<div class="PaddingFive">';buildString+='<div class="TweetThisArea">';buildString+='<div class="TweetThisButton">';buildString+='<div class="PaddingInsideTweetThisButton">';buildString+='<div class="FloatImageLeft">';buildString+='<img src="'+imageBase64+'" data-imagesource="http://d1fjhcoxowijel.cloudfront.net/tweet01.png" /></div>';buildString+='<span class="TwitterFont">Twitter</span></div>';buildString+='<span class="TweetLabelsFont" style="position:relative; left:-17px;">Tweet This:</span>';buildString+='</div></div>';buildString+='<div class="FloatLeftMooseCartoon">';buildString+='<img title="Talking Moose" alt="Moose" ';buildString+='src="'+imageBase64+'" data-imagesource="http://d1fjhcoxowijel.cloudfront.net/MooseL'+getRandomInt(1,23)+'.png"';buildString+='></img></div>';buildString+='<div class="TweetSliderWidth">';buildString+='<div class="HoldAllTweets">';buildString+=conData+'</div></div></div></a></div>';return buildString;}
if($('.suggTweets').length){$('.suggTweets').append(suggTweets());}
function aniSuggs(){var aTweetSliderWidth=$('div[class="TweetSliderWidth"]');var aHoldAllTweets=$('div[class="HoldAllTweets"]');aOneTweet=$('div[class="OneTweet"]');var aMoosePic=$('div[class*="FloatLeftMooseCartoon"] img');clearTimeout(timeOut);timeOut=setTimeout(function(){if(overTweet){$('.ShadowBox a').attr('href',$(aOneTweet[1]).attr('data-href'));}
aHoldAllTweets.animate({'left':'-'+(aTweetSliderWidth.width())+"px"},2000,function(){aHoldAllTweets.css({'left':'0px'});aHoldAllTweets.append(aOneTweet[0]);aniSuggs();});},5000);}
var aHoldAllTweets=$('div[class="HoldAllTweets"]');var aOneTweet=$('div[class="OneTweet"]');var timeOut,timeOut_12,timeOut_13;if(aOneTweet.length-1>1){aHoldAllTweets.css({'width':(100*aOneTweet.length)+"%"});aOneTweet.css({'width':(100/(aOneTweet.length))+"%"});var overTweet=false;aniSuggs();$('.ShadowBox').on('mouseenter',function(){overTweet=true;$('.ShadowBox a').attr('href',$(aOneTweet[0]).attr('data-href'));}).on('mouseleave',function(){overTweet=false;$('.ShadowBox a').removeAttr('href');});}
var colGradient=new Array('#FFFFCC','#FFFF99','#FFFF66','#FFFF33','#FFFF00'),arrowPoint=$('.arrowWrap-inner-AB'),activeArrow,noChoice=1,semiIdle,idlePosition,setTimeoutA,setTimeoutB,userChoice='A',madeChoice=0,increaseCount=0,decreaseCount=0,increaseColor,decreaseColor,increaseArray=new Array('24','14','34','10','51'),revertColor,revertCount,defaultSpeed=25,thisTarget,startDeg,endDeg,isAbove,offX,offY;var urlTarget='http://'+ document.domain+'/wp-content/choiceSave.php';var arrowDelay=300;$('.mainContainer-AB').on('mouseenter',function(){}).on('mousemove',function(e){activeArrow=1;if(noChoice){if(parseInt($('.isMobile-AB').width())>0){var pivotPoint=$('.pivotWrap-mobile-AB').offset();offX=0;offY=25;}else{var pivotPoint=$('.pivotWrap-desktop-AB').offset();offX=25;offY=0;}
var cursorX=e.pageX;var cursorY=e.pageY;var pivotX=((pivotPoint.left)+offX);var pivotY=((pivotPoint.top)+offY);var calculatedDeg=((Math.atan2(cursorX-pivotX,cursorY-pivotY)*(180/Math.PI)*-1)+180);if(parseInt($('.isMobile-AB').width())>0){startDeg=180;endDeg=360;}else{startDeg=90;endDeg=270;}
if(activeArrow){if(calculatedDeg<=startDeg||calculatedDeg>=endDeg){setTimeout(function(){$(arrowPoint).css({'transform':'rotate('+calculatedDeg+'deg)'});},arrowDelay);}}}}).on('mouseleave',function(){idlePosition=1;activeArrow=0;if(noChoice){setTimeout(function(){semiIdle=1;idleArrow(parseInt($(arrowPoint).parent().html().split('rotate(')[1].split('deg)')[0],10));},(arrowDelay+5));}});function idleArrow(idlePoint){if(noChoice){if(!activeArrow){clearTimeout(setTimeoutA);setTimeoutA=setTimeout(function(){if(semiIdle){if(parseInt($('.isMobile-AB').width())>0){if(idlePosition){if(idlePoint<90){isAbove=1;}else{isAbove=0;}
idlePosition=0;}
if(isAbove){if(idlePoint>=100){semiIdle=0;}
idleArrow(idlePoint+4);}else{if(idlePoint<=80){semiIdle=0;}
idleArrow(idlePoint-4);}}else{if(idlePosition){if(idlePoint>180){isAbove=1;}else{isAbove=0;}
idlePosition=0;}
if(isAbove){if(idlePoint>=370){semiIdle=0;}
idleArrow(idlePoint+4);}else{if(idlePoint<=-10){semiIdle=0;}
idleArrow(idlePoint-4);}}}else{if(parseInt($('.isMobile-AB').width())>0){if(isAbove){if(idlePoint>=100){isAbove=0;}
idleArrow(idlePoint+(1-((idlePoint-79)*0.040)));}else{if(idlePoint<=80){isAbove=1;}
idleArrow(idlePoint-(1-((101-idlePoint)*0.040)));}}else{if(idlePoint<=-10){idlePoint=350;}else if(idlePoint>=370){idlePoint=10;}
if(idlePoint>349){idleArrow(idlePoint+(1-((idlePoint-349)*0.040)));}else if(idlePoint<11){idleArrow(idlePoint-(1-((11-idlePoint)*0.040)));}}}
$(arrowPoint).css({'transform':'rotate('+idlePoint+'deg)'});},32);}}}
$('.optionContainer-AB').on('click',function(e){madeChoice=1;onEvent(e,0);}).on('mouseenter',function(e){onEvent(e,(((defaultSpeed*133)+((defaultSpeed*2)*5))+500));}).on('mouseleave',function(e){if(noChoice){decreaseBorder(thisTarget);$('.activeBorder').removeClass('activeBorder');clearTimeout(setTimeoutB);}});function onEvent(e,timeOut){if(noChoice){thisTarget=$(e.currentTarget).children();$(e.currentTarget).children().addClass('activeBorder');increaseBorder($('.activeBorder'));clearTimeout(setTimeoutB);setTimeoutB=setTimeout(function(){$('div[class*="optionContainer"]').each(function(e){if(parseInt($(this).children().children(':first').css('border-bottom-width'))==5){if(e){userChoice='B';}else{userChoice='A';}
$(this).find('.beforeChoice').hide();$(this).find('.afterChoice').show();}else{$(this).animate({'opacity':0.7});}});noChoice=0;setTimeout(function(){$('.headerWrap-AB').show().animate({'opacity':1},500);$('.headerContainer-AB .beforeChoice').hide();$('.headerContainer-AB .afterChoice').show();},500);$('.optionWrap-inner-AB p').each(function(e){var seperateChoice='';if(!e){seperateChoice='|';}userChoice+=$.trim($(this).text())+seperateChoice;});$.ajax({url:urlTarget,type:'POST',data:{userChoice:userChoice},success:function(returnResults){returnResults=returnResults.split(';');var A=((100/(parseInt(returnResults[0])+parseInt(returnResults[1])))*parseInt(returnResults[0])).toFixed(2);var B=((100/(parseInt(returnResults[0])+parseInt(returnResults[1])))*parseInt(returnResults[1])).toFixed(2);$('.resultsWrap-AB :first').css({'width':A+'%','background-color':'#CCFF00'});$('.resultsWrap-AB :last').css({'width':B+'%','background-color':'#F69'});$('.resultsContainer-AB').children(':first').children(':first').text('A: '+A+'%');$('.resultsContainer-AB').children(':last').children(':first').text('B: '+B+'%');}});},timeOut);}}
function increaseBorder(e){increaseCount=parseInt(e.children(':first').css('border-bottom-width'),10);if(e.hasClass('activeBorder')){if(increaseCount!=5){increaseCount++;revertColor=0;revertCount=0;increaseColor=0;decreaseColor=0;setTimeout(function(){e.children(':first').css({'border-width':increaseCount+'px','border-color':colGradient[increaseCount-1],'top':'-'+increaseCount+'px','left':'-'+increaseCount+'px'});e.css({'margin-bottom':'-'+(increaseCount*4)+'px'});e.children(':last').children().css({'border-width':increaseCount+'px','border-color':colGradient[increaseCount-1],'top':'-'+(increaseCount*3)+'px','left':'-'+increaseCount+'px'});increaseBorder(e);},defaultSpeed*2);}else if(revertCount!=5&&increaseColor!=51){if(revertColor){increaseColor--;}else{increaseColor++;}
decreaseColor=increaseColor;if(madeChoice){revertColor=0;if(increaseColor==51){revertCount=5;}}else{if(increaseColor==parseInt(increaseArray[revertCount])){revertCount++;if(revertColor){revertColor=0;}else{revertColor=1;}}}
setTimeout(function(){e.children(':first').css({'border-color':'rgb(255,'+(255-(increaseColor*5))+',0)'});e.children(':last').children().css({'border-color':'rgb(255,'+(255-(increaseColor*5))+',0)'});increaseBorder(e);},defaultSpeed);}}else{decreaseBorder(e);}}
function decreaseBorder(e){decreaseCount=parseInt(e.children(':first').css('border-bottom-width'),10);if(decreaseColor!=0){decreaseColor--;setTimeout(function(){e.children(':first').css({'border-color':'rgb(255,'+(255-(decreaseColor*5))+',0)'});e.children(':last').children().css({'border-color':'rgb(255,'+(255-(decreaseColor*5))+',0)'});decreaseBorder(e);},12.5);}else if(decreaseCount!=0){decreaseCount--;setTimeout(function(){e.children(':first').css({'border-width':decreaseCount+'px','border-color':colGradient[decreaseCount-1],'top':'-'+decreaseCount+'px','left':'-'+decreaseCount+'px'});e.css({'margin-bottom':'-'+(decreaseCount*4)+'px'});e.children(':last').children().css({'border-width':decreaseCount+'px','border-color':colGradient[decreaseCount-1],'top':'-'+(decreaseCount*3)+'px','left':'-'+decreaseCount+'px'});decreaseBorder(e);},12.5);}}
$('.buttonContainer-outer-AB div').on('click',function(e){noChoice=1;activeArrow=0;madeChoice=0;$('.headerWrap-AB').hide().css({'opacity':0});$('div[class*="optionContainer"]').css({'opacity':1}).find('.beforeChoice').show();$('div[class*="optionContainer"]').find('.afterChoice').hide();if(parseInt($('.isMobile-AB').width())>0){idleArrow(90);}else{idleArrow(0);}
decreaseBorder(thisTarget);$('.activeBorder').removeClass('activeBorder');});if($('.headerTitle-AB div').length>2){$('.headerTitle-AB').css({'display':'table'}).children('div:gt(0)').css({'display':'table-cell','vertical-align':'middle','text-align':'left'});$('.headerContainer-AB .afterChoice').hide();}
$(arrowPoint).css({'transform-origin':'50% 100%'});if(parseInt($('.isMobile-AB').width())>0){idleArrow(90);}else{idleArrow(0);}
$('.rI').each(function(){var thisElement=$(this);if(thisElement.attr('src')==imageBase64){var thisSource=thisElement.attr('data-imagesource');}else{var thisSource=thisElement.attr('src');}
if(!$(this).hasClass('musicHarp')||!$(this).hasClass('musicGuitar')){if(thisSource.indexOf('Moose')>-1||thisSource.indexOf('Moose')>-1){$(this).addClass('musicHarp');}else if(thisSource.indexOf('DrHalls')==-1||thisSource.indexOf('DrHalls')==-1){$(this).addClass('musicGuitar');}}
$(this).addClass('pulseClick');});$('.pulseClick').on('click',function(){if(!$(this).hasClass('activeMoose')){$(this).addClass('activeMoose');if($(this).hasClass('musicHarp')){harpPre();}else if($(this).hasClass('musicGuitar')){guitarPre();}
if($(this).width()>0){var thisWidth=($(this).width()/100)*5;
}else{var thisWidth=5;}
if($('.activeMoose').parent('div').height()<$('.activeMoose').height()){var thisHeight=$('.activeMoose').height();}else{var thisHeight=$('.activeMoose').parent('div').height();}
$('.activeMoose').parent('div').css({'min-height':thisHeight+'px'});$('.activeMoose').animate({'width':'-='+thisWidth+'px'},200,function(){$('.activeMoose').animate({'width':'+='+thisWidth+'px'},100,function(){$('.activeMoose').parent('div').css({'min-height':'none'});$('.activeMoose').removeClass('activeMoose');});});}});$('div[class*="Lcol"],div[class*="Rcol"]').each(function(){var thisElement=$(this);if(thisElement.children('img').attr('src')==imageBase64){var thisSource=thisElement.children('img').attr('data-imagesource');}else{var thisSource=thisElement.children('img').attr('src');}
if(thisSource){if(thisSource.indexOf('MooseL')>-1||thisSource.indexOf('MooseR')>-1){thisElement.children('img').css({'min-width':'120px'});}else if(thisSource.indexOf('Moose')>-1){var imageWidth;var imagePreload=new Image();imagePreload.onload=function(){if(!this.complete||typeof this.naturalWidth=='undefined'||this.naturalWidth==0){if(this.style.width!=0){thisElement.children('img').css({'min-width':(this.naturalWidth/2)+'px'});}}else{thisElement.children('img').css({'min-width':(this.naturalWidth/2)+'px'});}}
imagePreload.src=thisSource;}}});var imageProcessing=[];var imageData=[];var imagePossibilities=[];var imageSwitching=true;var activeProcess=false;var activeAnalysis=false;var movementDetected=false;var googleDelay=true;var analysisTimeout;function arrayRandomization(arrayData){var arrayTemp=[];while(arrayData.length){var randomIndex=Math.floor(Math.random()*arrayData.length);arrayTemp.push(arrayData[randomIndex]);arrayData.splice(randomIndex,1);}
return arrayTemp;}
if($('.imageSwitchingOn').length>0||$('.lazyLoadingOn').length>0){if($('.lazyLoadingOn').length>0){$('img').each(function(){if($(this).attr('src')==imageBase64){var thisSource=$(this).attr('data-imagesource');}else{var thisSource=$(this).attr('src');}
$(this).attr({'data-imagesource':thisSource,'src':imageBase64,'data-progress':'NONE','data-id':Math.random().toString(36).slice(-10)});});if($('.imageSwitchingOn').length<1){imageSwitching=false;}
activeAnalysis=true;}else if($('.imageSwitchingOn').length>0){$('img').each(function(){if($(this).attr('src')==imageBase64){var thisSource=$(this).attr('data-imagesource');}else{var thisSource=$(this).attr('src');}
$(this).attr({'src':thisSource,'data-imagesource':'','data-progress':'LOADED','data-id':Math.random().toString(36).slice(-10)});for(var i=0;i<namesArray.length;i++){if(namesArray[i].split(':')[0]==this.src.substr(this.src.lastIndexOf('/')+1).replace(/\d+/g,'/').split('/')[0]){if(this.src.substr(this.src.lastIndexOf('/')+1).replace('.','/').split('/')[0].length<namesArray[i].length){if(imageSwitching){imageData.push([$(this).attr('data-id'),$(this),namesArray[i].split(':')[0],namesArray[i].split(':')[1]]);}
break;}}}
if(imageSwitching){imageData=arrayRandomization(imageData);}});resizeChars();if(imageData.length>0){activeProcess=true;imageProcess();}}}else{$('img[src*="base64"]').each(function(){$(this).attr({'data-progress':'NONE','data-id':Math.random().toString(36).slice(-10)});});activeAnalysis=true;}
function audioProcess(){$('img[data-progress*="LOADED"]').each(function(){if(!hasHarp){if($(this).hasClass('musicHarp')){harpPre();}}
if(!hasGuitar){if($(this).hasClass('musicGuitar')){guitarPre();}}});}
function imageProcess(){if(movementDetected){imageProcessing.length=0;for(var i=0;i<parseInt(imageData.length);i++){if((imageData[i][1].offset().top+imageData[i][1].height())+20>=$(window).scrollTop()&&imageData[i][1].offset().top<=($(window).height()+$(window).scrollTop())){imageProcessing.push([imageData[i][0],imageData[i][1],imageData[i][2],imageData[i][3]]);}}
movementDetected=false;}
if(imageProcessing.length>0){if(!imagePossibilities[imageProcessing[0][0]]||!imagePossibilities[imageProcessing[0][0]].length){imagePossibilities[imageProcessing[0][0]]=[0];imagePossibilities[imageProcessing[0][0]].shift();for(var i=1;i<parseInt(imageProcessing[0][3])+1;i++){imagePossibilities[imageProcessing[0][0]].push(i);}}
setTimeout(function(){var indexRand=Math.floor(Math.random()*imagePossibilities[imageProcessing[0][0]].length);if(imagePossibilities[imageProcessing[0][0]][indexRand]===void 0){var indexRand=0;}
var imagePreload=new Image();imagePreload.onload=function(){var endTime=new Date().getTime();if(endTime-startTime<300){var preloadTimeout=300-(endTime-startTime);}else{var preloadTimeout=0;}
setTimeout(function(){imageProcessing[0][1].attr('src',imagePreload.src);imagePossibilities[imageProcessing[0][0]].splice(indexRand,1);imageProcessing.push(imageProcessing[0]);imageProcessing.shift();if(imageData.length>0){imageProcess();}else{activeProcess=false;}},preloadTimeout);}
var startTime=new Date().getTime();imagePreload.src=imageProcessing[0][1][0].src.substr(0,imageProcessing[0][1][0].src.lastIndexOf('/')+1)+imageProcessing[0][1][0].src.substr(imageProcessing[0][1][0].src.lastIndexOf('/')+1).replace(/\d+/g,'$').replace('$',imagePossibilities[imageProcessing[0][0]][indexRand]);},1200);}else{activeProcess=false;}}
function imageAnalysis(){$('img[src*="base64"]').each(function(){if($(this).attr('data-progress')=='NONE'){if(($(this).offset().top+$(this).height())+20>=$(window).scrollTop()&&$(this).offset().top<=($(window).height()+$(window).scrollTop())){if($(this).attr('data-progress')!='LOADED'){$(this).attr({'src':$(this).attr('data-imagesource'),'data-imagesource':'','data-progress':'LOADED'});for(var i=0;i<namesArray.length;i++){if(namesArray[i].split(':')[0]==this.src.substr(this.src.lastIndexOf('/')+1).replace(/\d+/g,'/').split('/')[0]){if(this.src.substr(this.src.lastIndexOf('/')+1).replace('.','/').split('/')[0].length<namesArray[i].length){if(imageSwitching){imageData.push([$(this).attr('data-id'),$(this),namesArray[i].split(':')[0],namesArray[i].split(':')[1]]);}
break;}}}
if($(this).hasClass('resizeChar')){resizeChars();}
if(imageSwitching){imageData=arrayRandomization(imageData);}}}}});if(!googleDelay){if(!hasHarp||!hasGuitar){audioProcess();}
if(imageSwitching){movementDetected=true;if(!activeProcess){if(imageData.length>0){activeProcess=true;imageProcess();}}}}}
if(activeAnalysis){imageAnalysis();setTimeout(function(){googleDelay=false;imageAnalysis();},3000);}
$(window).resize(function(){if(!googleDelay){if(activeAnalysis){clearTimeout(analysisTimeout);analysisTimeout=setTimeout(function(){imageAnalysis()},150);}else{if(!activeProcess){if(imageData.length>0){activeProcess=true;imageProcess();}}}
resizeChars();}
if(parseInt($('.isMobile-AB').width())>0){$(arrowPoint).css({'transform':'rotate('+90+'deg)'});setTimeout(function(){idleArrow(90);},50);}else{$(arrowPoint).css({'transform':'rotate('+0+'deg)'});setTimeout(function(){idleArrow(0);},50);}
youtubeRatio();});$(window).scroll(function(){if(!googleDelay){if(activeAnalysis){clearTimeout(analysisTimeout);analysisTimeout=setTimeout(function(){imageAnalysis()},150);}else{if(!activeProcess){if(imageData.length>0){activeProcess=true;imageProcess();}}}}
if($(this).scrollTop()>200){$('.up').fadeIn();}else{$('.up').fadeOut();}});$('a[href="#top"]').click(function(){$('html, body').animate({scrollTop:0},800);return false;});});});function soundPlay(soundFile){if(soundFile){var audioElement;if(navigator.userAgent.toLowerCase().indexOf('msie')>-1||navigator.userAgent.toLowerCase().indexOf('trident/')>-1){audioElement=document.createElement('bgsound');audioElement.setAttribute('id','bgsound');audioElement.setAttribute('src',soundFile);document.getElementsByTagName('body')[0].appendChild(audioElement);}else{audioElement=document.createElement('audio');audioElement.setAttribute('id','bgsound');audioElement.setAttribute('src',soundFile);audioElement.play();}}} 
